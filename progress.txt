# Ralph Progress Log
## Codebase Patterns
- Frontend dashboard stories in this PRD are implemented under `ui/raw-data-dashboard`; run dependency installs and quality checks from that directory.
- Keep dashboard theming centralized in `ui/raw-data-dashboard/src/styles.css` `:root` tokens and reference variables instead of hardcoded colors.
- For dependency and lint workflows in this repo, activate the project virtualenv first (`source .venv/bin/activate`) because system Python may enforce PEP 668 and block global `pip install`.
- RAG indexer: Do NOT apply SentenceSplitter to pre-chunked docs â€” ingest.py handles chunking (20 rows/doc for CSVs). Pass docs directly to VectorStoreIndex.
- BM25 integration: Use `llama-index-retrievers-bm25` (LlamaIndex wrapper), NOT `rank-bm25` (raw library).
- Hybrid retrieval: QueryFusionRetriever + reciprocal reranking over Qdrant vector + BM25 retrievers.
- All modules run from project root (`python -m src.rag.data_processing.run`, not relative imports).

Started: Thu Feb 20 2026
---
